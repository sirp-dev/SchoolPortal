@model IEnumerable<SchoolPortal.Web.Models.Entities.Post>
@{
    /**/
    Layout = "~/Areas/Admin/Views/Shared/_FrontPagePreviewLayout.cshtml";

    ViewBag.Title = "Index";
}
@using System.Text.RegularExpressions;
@helper Truncate(string input, int lenght)
{
    if (input.Length <= lenght)
    {
        @Html.Raw(input)
    }
    else
    {
        @Html.Raw(input.Substring(0, input.IndexOf(" ", lenght)).ToString())

}
}

@Html.Action("_BlogCrumb", "Page")

<section class="blog-home-section">
    <div class="container">
        <div class="blog-home-one">
            <div class="row">
                <div class="blog-home-two">
                    @if (ViewBag.blog != null)
                    {
                        foreach (var item in ViewBag.blog)
                        {
                        <a href="@Url.Action("Read", "Blog", new { id = item.Id, source = "xyz", title = item.Title })">
                            <div class="panel-blog-home">
                                <div class="panel">
                                    <div class="panel-heading">
                                        <div class="blog-home-title">
                                            @item.Title
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <div class="blog-home-image-one">
                                            <div class="blog-home-image-two">

                                                @if (item.PostImagess != null)
                                                {
                                                    <img src="data:image/jpg;base64,@(Convert.ToBase64String(item.PostImagess))" alt="" class="img-responsive img-blog-home">
                                                }

                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <div class="blog-home-body-one">
                                            <div class="blog-home-body-two">

                                                @Truncate(item.PreviewContent, 150) ...<span style="font-weight:900;" class="readmore-blog-home">Read More</span>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel-footer">
                                        <div class="blog-home-footer-one">
                                            <div class="blog-home-footer-date">
                                                @item.DatePosted
                                            </div>
                                            <div class="blog-home-footer-by">
                                                @item.PostedBy
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                        }
                    }
                    @if (ViewBag.secondpost != null)
                    {
                    foreach (var item in ViewBag.secondpost)
                    {
                        <a href="@Url.Action("Read", "Blog", new { id = item.Id, source = "abc", title = item.Title })">
                            <div class="panel-blog-home">
                                <div class="panel">
                                    <div class="panel-heading">
                                        <div class="blog-home-title">
                                            @item.Title
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <div class="blog-home-image-one">
                                            <div class="blog-home-image-two">

                                                @if (item.PostImage.Contains(".png") || item.PostImage.Contains(".jpg"))
                                                {
                                                    <img src="@item.PostImage" alt="" class="img-responsive img-blog-home">

                                                }
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <div class="blog-home-body-one">
                                            <div class="blog-home-body-two">

                                                @Truncate(item.PreviewContent, 150) ...<span style="font-weight:900;" class="readmore-blog-home">Read More</span>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel-footer">
                                        <div class="blog-home-footer-one">
                                            <div class="blog-home-footer-date">
                                                @item.DatePosted
                                            </div>
                                            <div class="blog-home-footer-by">
                                                @item.PostedBy
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    }
                    }
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</section>




@section HeadArea {

    @Html.Raw(ViewBag.taghead)
    @Html.Raw(ViewBag.styletag)
    @Html.Raw(ViewBag.overridecss)
}


@section FooterArea {

    @Html.Raw(ViewBag.jstag)

}


@section BlogStyle {
    @*blog style*@

    @Html.Raw(ViewBag.styleblog)

}


@section BlogJs {

    @*blog js*@
    @Html.Raw(ViewBag.jsblog)

}