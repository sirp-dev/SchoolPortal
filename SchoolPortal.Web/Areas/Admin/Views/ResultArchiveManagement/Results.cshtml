@model IEnumerable<SchoolPortal.Web.Models.Entities.Enrollment>

@{
    /**/

    ViewBag.Title = "Results";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-xs-12">
        <div class="box" style="padding:7px;">
            <div class="box-header" style="margin-bottom:15px;">
                <h3 class="box-title"><i class="fa fa-fw fa-file-text-o"></i> Available Results for Printing</h3>

            </div>
            <!-- /.box-header -->
            <div class="box-body no-padding">
                @using (Html.BeginForm("ResultSearch", "ResultArchiveManagement", null, FormMethod.Post, new { @class = "" }))
                {
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                    <div class="">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label> Select Session</label>
                                    <div class="">
                                        @Html.DropDownList("id", ViewBag.sessionId as SelectList, "choose a session", htmlAttributes: new { @class = "form-control", required = "Choose a session" })


                                    </div>
                                </div>

                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Class</label>
                                    <div class="">
                                        @Html.DropDownList("Id", ViewBag.ClassId as SelectList, "choose a class", htmlAttributes: new { @class = "form-control", placeholder = "Choose a session" })

                                    </div>
                                </div>
                            </div>
                        </div>



                    </div>

                    <div class="box-footer">
                        <div class="row">
                            <div class="col-md-12">
                                <button type="submit" class="btn btn-primary">Fetch</button>
                                <a href="javascript: history.back()" class="btn btn-default">Cancel</a>
                            </div>
                        </div>

                    </div>


                }
            </div>
            <div class="box-body table-responsive no-padding">
                <table id="" class="table table-bordered table-hover" border="1">

                    <thead>
                        <tr>
                            <th>S/N</th>
                            <th>
                                @Html.DisplayNameFor(model => model.Session.Term)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.ClassLevel.ClassName)
                            </th>

                            <th>
                                Full Name
                            </th>
                            <th>
                                Reg. Number
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.AverageScore)
                            </th>
                           
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            int sno = 0;
                        }
                        @foreach (var item in Model)
                        {
                        <tr>
                            <td>
                                @{ sno++; }
                                @sno
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Session.SessionYear) - @Html.DisplayFor(modelItem => item.Session.Term)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ClassLevel.ClassName)
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.StudentProfile.user.Surname)  @Html.DisplayFor(modelItem => item.StudentProfile.user.FirstName)  @Html.DisplayFor(modelItem => item.StudentProfile.user.OtherName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.StudentProfile.StudentRegNumber)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.AverageScore)
                            </td>
                           
                        </tr>
                        }

                </table>
            </div>
        </div>
    </div>
</div>
